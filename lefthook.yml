pre-commit:
  parallel: true
  jobs:
    # TypeScript type checking for payment sdk
    - name: "TypeScript check (payment sdk)"
      root: "packages/payments-sdk/"
      run: bun typecheck
      fail_text: "TypeScript check failed for payment sdk"
    # Biome linting and formatting for payment sdk
    - name: "Biome check (payment sdk)"
      root: "packages/payments-sdk/"
      glob: "*.{js,ts,jsx,tsx}"
      run: bun check {staged_files}
      stage_fixed: true
      fail_text: "Biome check failed for payment sdk"


      # TypeScript type checking for payment elements
    - name: "TypeScript check (payment elements)"
      root: "packages/payments-elements/"
      run: bun typecheck
      fail_text: "TypeScript check failed for payment elements"
    # Biome linting and formatting for payment elements
    - name: "Biome check (payment elements)"
      root: "packages/payments-elements/"
      glob: "*.{js,ts,jsx,tsx}"
      run: bun check {staged_files}
      stage_fixed: true
      fail_text: "Biome check failed for payment elements"


      # TypeScript type checking for payment react
    - name: "TypeScript check (payment react)"
      root: "packages/payments-react/"
      run: bun typecheck
      fail_text: "TypeScript check failed for payment react"
    # Biome linting and formatting for payment react
    - name: "Biome check (payment react)"
      root: "packages/payments-react/"
      glob: "*.{js,ts,jsx,tsx}"
      run: bun check {staged_files}
      stage_fixed: true
      fail_text: "Biome check failed for payment react"
